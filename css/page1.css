/* =====================================================
   View Toggleï¼ˆã‚«ãƒ¼ãƒ‰è¡¨ç¤º / ä¸€è¦§è¡¨ç¤ºï¼‰
===================================================== */
.view-toggle {
    display: flex;
    gap: 6px;
    padding: 2px 4px;
    background: #fff;
    border-bottom: 1px solid #e7e7e7;
    z-index: 1900;
}

.view-btn {
    flex: 1 1 auto;
    padding: 6px 10px;
    border: 1px solid rgba(0, 0, 0, 0.15);
    border-radius: 999px;
    background: #f7f7f9;
    cursor: pointer;
    font-size: 14px;
}

.view-btn.is-active {
    background: #2b90ff;
    border-color: #2b90ff;
    color: #fff;
}


/* =====================================================
   List View Layoutï¼ˆå›³é‘‘ï¼šãƒªã‚¹ãƒˆè¡¨ç¤ºï¼‰
===================================================== */
.grid.is-list {
    display: flex;
    flex-direction: column;
    gap: 8px;
}

/* 1ã‚«ãƒ¼ãƒ‰åˆ†ã®è¡Œ */
.list-row {
    display: flex;
    gap: 8px;
    padding-left: 2px;
    border: 1px solid rgba(0, 0, 0, 0.12);
    border-radius: 10px;
    background: #fff;
}

/* å·¦ï¼šç”»åƒï¼ˆæ—¢å­˜ .card ã‚’ä¸­ã§ä½¿ç”¨ï¼‰ */
.list-row .card {
    width: 92px;
    flex: 0 0 92px;
}

/* å³ï¼šè©³ç´°ï¼ˆæ—¢å­˜ .card-detail ã‚’å¸¸æ™‚è¡¨ç¤ºï¼‰ */
.list-row .card-detail {
    display: block;
    flex: 1 1 auto;
    margin: 0;
    padding: 5px 0 5px 5px;
}

/* è©³ç´°ï¼šæ–‡å­—ã‚µã‚¤ã‚ºï¼ˆPCåŸºæº–ï¼‰ */
.grid.is-list .card-detail {
    font-size: 0.85rem;
    line-height: 1.4;
}

.grid.is-list .card-detail .card-name {
    font-size: 1rem;
}

.grid.is-list .card-detail .card-meta {
    font-size: 0.75rem;
}

.grid.is-list .card-detail .card-meta.card-pack {
    font-size: 0.7rem;
    opacity: 0.85;
}

.grid.is-list .card-detail .effect-name {
    font-size: 0.85em;
}

.grid.is-list .card-detail .card-effect {
    font-size: 0.8rem;
    line-height: 1.45;
}

/* âœ… æ¨ªé•·PCã¯2åˆ—ãƒªã‚¹ãƒˆã«ã—ã¦ä½™ç™½ã‚’æœ‰åŠ¹æ´»ç”¨ */
@media (min-width: 1100px) {
    .grid.is-list {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 5px;
    }
}

/* SPã¯å…¨ä½“ã‚’å°‘ã—è©°ã‚ã‚‹ */
@media (max-width: 768px) {
    .grid.is-list {
        gap: 3px;
    }

    .list-row {
        gap: 3px;
    }

    .list-row .card {
        width: 87px;
        flex-basis: 87px;
    }

    .list-row .card-detail {
        padding: 6px 2px 6px 4px;
    }

    .grid.is-list .card-detail {
        font-size: 0.8rem;
    }

    .grid.is-list .card-detail .card-name {
        font-size: 0.95rem;
    }
}


/* =====================================================
   cg-headï¼š3æ®µï¼ˆtitle / status / opsï¼‰
===================================================== */
.cg-head {
    padding: 10px 12px;
    margin-top: auto;
    margin-bottom: 10px;
    display: grid;
    gap: 6px;
}

.cg-head-row {
    display: flex;
    align-items: center;
    gap: 8px;
    min-width: 0;
}

/* ã‚¿ã‚¤ãƒˆãƒ«ã¯æ½°ã•ãªã„ */
.cg-head-row-title {
    justify-content: flex-start;
}

.cg-head-title {
    font-weight: 900;
    font-size: 16px;
    letter-spacing: .02em;
    white-space: nowrap;
}

/* çŠ¶æ…‹ã¯ã“ã“ã§æŠ˜ã‚Šè¿”ã—OK */
.cg-head-row-status {
    justify-content: flex-start;
}

.cg-current {
    font-size: 13px;
    opacity: 0.9;
    min-width: 0;
    overflow-wrap: anywhere;
}

/* æ“ä½œè¡Œï¼šãƒœã‚¿ãƒ³3ã¤ã‚’ä¸¦ã¹ã‚‹ï¼ˆç‹­ã‘ã‚Œã°æŠ˜ã‚Šè¿”ã—ï¼‰ */
.cg-head-row-ops {
    justify-content: flex-start;
    flex-wrap: wrap;
    gap: 6px;
}

/* ãƒ™ãƒ¼ã‚¹ãƒœã‚¿ãƒ³ï¼ˆæ—¢å­˜ #cg-exit-edit ã®ä¸Šæ›¸ãã‚‚æ´»ãã‚‹ï¼‰ */
.cg-head-btn {
    height: 32px;
    padding: 0 10px;
    border-radius: 10px;
    border: 1px solid rgba(0, 0, 0, .15);
    background: #f7f7f9;
    cursor: pointer;
    font-weight: 900;
    font-size: 12.5px;
}

/* âœ… ç·¨é›†å®Œäº†ï¼ˆãƒ•ãƒ©ãƒƒãƒˆå¯„ã‚Šã®ç·‘ï¼šãƒ¡ã‚¿ãƒªãƒƒã‚¯/ã‚°ãƒ©ãƒ‡ç„¡ã—ï¼‰ */
#cg-exit-edit.cg-head-btn {
    background: #22c55e;
    color: #fff;
    border-color: rgba(0, 0, 0, .12);
    box-shadow: 0 2px 6px rgba(34, 197, 94, .25);
    font-weight: 1000;
}

#cg-exit-edit.cg-head-btn:hover {
    background: #1fb455;
}

.cg-list {
    display: flex;
    flex-direction: column;
    gap: 6px;
}

/* âœ… è¡Œå…¨ä½“ï¼šå³ç«¯ã«ãƒãƒ³ãƒ‰ãƒ«å°‚ç”¨ãƒ¬ãƒ¼ãƒ³ã‚’ä½œã‚‹ */
.cg-row {
    display: grid;
    grid-template-columns: 1fr 40px;
    grid-auto-rows: auto;
    column-gap: 10px;

    /* æ—¢å­˜ã®è¦‹ãŸç›® */
    gap: 2px;
    padding: 2px 3px;
    border: 1px solid rgba(0, 0, 0, 0.12);
    border-radius: 12px;
    background: #fff;

    position: relative;
    -webkit-user-drag: none;
}

.cg-row.is-active {
    outline: 2px solid rgba(43, 144, 255, 0.45);
}

.cg-row.is-editing {
    background: linear-gradient(135deg, rgba(76, 175, 80, 0.18), rgba(129, 199, 132, 0.18));
}

/* âœ… 1ã€œ3æ®µã®æœ¬ä½“ã¯å·¦åˆ—ã« */
.cg-row-top,
.cg-row-bot,
.cg-mini {
    grid-column: 1;
}

/* --- 1æ®µç›®ï¼šã‚°ãƒ«ãƒ¼ãƒ—å + å³ç«¯ã« âœï¸ ã¨ â‰£ --- */
.cg-row-top {
    display: grid;
    grid-template-columns: 1fr 34px;
    align-items: center;
    gap: 6px;
}

/* âœ… ã‚°ãƒ«ãƒ¼ãƒ—åï¼š2è¡Œã¾ã§è¨±å¯ï¼ˆæ¨ªå¹…ãŒç‹­ãã¦ã‚‚è¦‹ãˆã‚„ã™ã„ï¼‰ */
.cg-name {
    font-weight: 900;
    line-height: 1.15;
    overflow: hidden;

    display: -webkit-box;
    -webkit-line-clamp: 2;
    /* 2è¡Œ */
    -webkit-box-orient: vertical;
}

/* rename */
.cg-rename {
    width: 34px;
    height: 30px;
    border: 1px solid rgba(0, 0, 0, 0.15);
    border-radius: 8px;
    background: #f7f7f9;
    cursor: pointer;
}

.cg-rename:disabled {
    opacity: 0.4;
    cursor: not-allowed;
}

/* âœ… ãƒãƒ³ãƒ‰ãƒ«ï¼šå³åˆ—ã«å›ºå®šï¼†ç¸¦ä¸­å¤® */
.cg-handle {
    grid-column: 2;
    grid-row: 1 / 4;
    /* 1ã€œ3æ®µã‚’ã¾ãŸã„ã§ä¸­å¤®ã«ç½®ã */
    align-self: stretch;
    /* é«˜ã•ã„ã£ã±ã„ */
    justify-self: stretch;

    display: flex;
    align-items: center;
    /* ç¸¦ä¸­å¤® */
    justify-content: center;
    /* æ¨ªä¸­å¤® */

    cursor: grab;
    user-select: none;
    opacity: .85;

    border: 1px solid rgba(0, 0, 0, .18);
    margin: 2px 2px 2px 0;
    min-width: 38px;
    border-radius: 10px;
    background: #f7f7f9;

    /* ç‹­ã„ç’°å¢ƒã§ã®ç«¶åˆè»½æ¸› */
    touch-action: none;
    user-select: none;
    -webkit-user-drag: element;
}

.cg-handle:active {
    cursor: grabbing;
}

body:not(.is-group-editing) .cg-handle {
    display: none;
}

/* âœ… ãƒœã‚¿ãƒ³åˆ—ï¼šã‚¹ãƒšãƒ¼ã‚¹ãŒä½™ã‚‹æ™‚ã‚‚è‡ªç„¶ã«åŸ‹ã¾ã‚‹ */
.cg-row-bot {
    display: grid;
    grid-template-columns: 1fr 1fr auto;
    align-items: center;
    gap: 2px;
}

/* âœ… è¡¨ç¤º/ç·¨é›†ã‚’å¤§ãã */
.cg-show,
.cg-edit {
    height: 34px;
    padding: 0 12px;
    border-radius: 11px;
    font-size: 13px;
    font-weight: 900;
}

/* âœ… å‰Šé™¤ã‚‚å°‘ã—å¤§ãã */
.cg-del {
    width: 38px;
    height: 34px;
    border-radius: 9px;
}

.cg-del:disabled {
    opacity: 0.4;
    cursor: not-allowed;
}


/* =====================================================
    Card Groups UIï¼ˆã‚µã‚¤ãƒ‰ãƒãƒ¼ï¼‰
    - è¡Œé–“ã®æŒ¿å…¥ãƒ©ã‚¤ãƒ³
===================================================== */

/* DnDï¼šè¡Œé–“ã®æŒ¿å…¥ãƒ©ã‚¤ãƒ³ï¼ˆä¸Š/ä¸‹ï¼‰ */
.cg-row.drop-before,
.cg-row.drop-after {
    position: relative;
}

.cg-row.drop-before::before {
    content: "";
    position: absolute;
    left: 10px;
    right: 10px;
    top: -4px;
    height: 3px;
    border-radius: 999px;
    background: rgba(43, 144, 255, 0.9);
}

.cg-row.drop-after::after {
    content: "";
    position: absolute;
    left: 10px;
    right: 10px;
    bottom: -4px;
    height: 3px;
    border-radius: 999px;
    background: rgba(43, 144, 255, 0.9);
}

.cg-row.is-dragging {
    opacity: .55;
}


/* =========================
   cg-miniï¼šã‚«ãƒ¼ãƒ‰ã‚µãƒ ãƒï¼ˆé‡ã­è¡¨ç¤ºï¼‰
========================= */
/* âœ… ã‚µãƒ ãƒã¯å·¦ã‹ã‚‰è©°ã‚ã‚‹ï¼ˆå·¦ã®ç©ºç™½ã‚’æ¶ˆã™ï¼‰ */
.cg-mini {
    grid-column: 1;
    display: flex;
    justify-content: flex-start;
    /* â† ã“ã“ãŒé‡è¦ */
    align-items: center;
    min-width: 0;
    overflow: hidden;
    padding-top: 3px;
    border-top: 1px dashed rgba(0, 0, 0, .10);
}

/* 1æšåˆ†ï¼šåŠåˆ†é‡ã­ã‚‹ */
.cg-mini-card {
    width: 34px;
    height: 48px;
    border-radius: 8px;
    overflow: hidden;
    background: #fff;
    border: 1px solid rgba(0, 0, 0, .12);
    box-shadow: 0 1px 3px rgba(0, 0, 0, .10);
    margin-left: -34px;
    position: relative;
    z-index: calc(10 + var(--i));
    /* å³å´ãŒä¸Šã«æ¥ã‚‹ */
}

.cg-mini-card:first-child {
    margin-left: 0;
}

.cg-mini-card img {
    width: 100%;
    height: 100%;
    display: block;
    object-fit: cover;
}

/* +N è¡¨ç¤º */
.cg-mini-more {
    margin-left: 6px;
    font-size: 11px;
    font-weight: 900;
    opacity: .75;
    white-space: nowrap;
}

/* ç‹­ã„æ™‚ï¼š4æšãã‚‰ã„è¦‹ã›ã‚‹ */
@container sidebar (max-width: 260px) {
    .cg-mini-card:nth-child(n+5) {
        display: none;
    }

    /* 1ã€œ4æš */
    .cg-mini-card {
        width: 44px;
        height: 70px;
        margin-left: -30px;
    }

    /* ãƒœã‚¿ãƒ³ã‚‚ã•ã‚‰ã«å°‘ã—ã ã‘è©°ã‚ã‚‹ */
    .cg-show,
    .cg-edit {
        height: 32px;
        font-size: 12.5px;
        padding: 0 4px;
        font-weight: 700;
    }

    .cg-del {
        width: 36px;
        height: 32px;
    }
}

/* ä½™è£•ã‚ã‚‹æ™‚ï¼š7æšè¦‹ã›ã‚‹ */
@container sidebar (min-width: 261px) {
/* âœ… 6æšã¾ã§è¦‹ã›ã‚‹ï¼ˆ7ã ã¨ç¸¦åœ§ãŒå¼·ã„æ™‚ã«æ½°ã‚Œã‚„ã™ã„ï¼‰ */
    .cg-mini-card:nth-child(n+7) {
        display: none;
    }

    /* 1ã€œ7æš */
    .cg-mini-card {
        width: 52px;
        height: 80px;
        margin-left: -34px;
    }
}

/* è¿½åŠ  */
.cg-add {
    margin-top: 10px;
    width: 100%;
    padding: 10px 12px;
    border-radius: 12px;
    border: 1px solid rgba(0, 0, 0, 0.15);
    background: #fff;
    cursor: pointer;
    font-weight: 900;
}

.cg-limit {
    margin-top: 8px;
    font-size: 12px;
    color: #c62828;
    font-weight: 800;
}

/* =====================================================
   List viewï¼šğŸ”ï¼ˆzoom-btnï¼‰ã¯ä¸è¦ãªã®ã§éè¡¨ç¤º
===================================================== */
.grid.is-list .zoom-btn {
    display: none !important;
}

/* ç·¨é›†æ™‚ã«zoomã‚’è¦‹ã›ã‚‹ã®ã¯ã€Œã‚°ãƒªãƒƒãƒ‰è¡¨ç¤ºã€ã®ã¿ */
body.is-group-editing .grid:not(.is-list) .card .zoom-btn {
    display: flex !important;
}


/* =====================================================
   Group Editing Modeï¼ˆã‚°ãƒ«ãƒ¼ãƒ—ç·¨é›†æ™‚ï¼šã‚«ãƒ¼ãƒ‰å´ã®è¦‹ãŸç›®ï¼‰
===================================================== */
body.is-group-editing #grid .card img {
    filter: grayscale(100%);
    opacity: 0.35;
}

/* ã‚°ãƒ«ãƒ¼ãƒ—ã«å…¥ã£ã¦ã‚‹ã‚«ãƒ¼ãƒ‰ã¯è‰²æˆ»ã™ */
body.is-group-editing #grid .card.group-picked img {
    filter: none;
    opacity: 1;
}

/* ç·¨é›†æ™‚ï¼šzoom-btn ã‚’è¡¨ç¤º */
body.is-group-editing #grid .card .zoom-btn {
    display: flex !important;
}