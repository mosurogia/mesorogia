/*=======================
  0.ベース / 共通レイアウト
========================*/

/* 全体ベース */
body {
    margin: 0;
    font-family: system-ui, -apple-system, "Segoe UI", Roboto, "Noto Sans JP", "Hiragino Kaku Gothic ProN", "Meiryo", sans-serif;
}

/* コンテナ */
.container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 12px;
}

/* スクリーンリーダー用 */
.sr-only {
    position: absolute;
    width: 1px;
    height: 1px;
    padding: 0;
    margin: -1px;
    overflow: hidden;
    clip: rect(0, 0, 0, 0);
    white-space: nowrap;
    border: 0;
}

/*=======================
  1.ヘッダー / ページ共通UI
========================*/

/* ヘッダー */
.post-header {
    position: sticky;
    top: 0;
    z-index: 20;
    background: linear-gradient(180deg, #f5f5f5 70%, rgba(245, 245, 245, 0));
    backdrop-filter: blur(2px);
    border-bottom: 1px solid #e5e7eb;
    padding: 12px 0;
}

.post-header .row {
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 12px;
}

.title-wrap {
    display: flex;
    align-items: center;
    gap: 10px;
}

.title {
    font-size: 18px;
    font-weight: 800;
    letter-spacing: .02em;
    margin: 0;
}

.sub {
    font-size: 12px;
    color: #6b7280;
}

.nav-btn {
    padding: 8px 12px;
    border: 1px solid #d1d5db;
    border-radius: 10px;
    background: #ffffff;
    color: #1f2937;
    cursor: pointer;
    transition: .15s ease;
}

.nav-btn:hover {
    transform: translateY(-1px);
    box-shadow: 0 6px 16px rgba(0, 0, 0, .25);
}

/* ページ切替（#list / #mine） */
.page[hidden] {
    display: none !important;
}

/* デッキ投稿 共通 */
.page {
    padding: 12px;
}

/* 一覧の上に置く簡易バー（将来検索/並び替え追加予定） */
.toolbar {
    display: flex;
    align-items: center;
    gap: 8px;
    flex-wrap: wrap;
    margin: 10px 0 14px;
    padding: 8px 0;
}

.chip {
    padding: 6px 10px;
    border: 1px solid #d1d5db;
    border-radius: 999px;
    background: #ffffff;
    color: #374151;
    font-size: 12px;
}

.spacer,
.toolbar .spacer {
    flex: 1 1 auto;
}

.btn-ghost {
    appearance: none;
    border: 1px solid rgba(0, 0, 0, .12);
    background: #fff;
    border-radius: 10px;
    padding: 6px 10px;
    font-size: .95rem;
    cursor: pointer;
}

.btn-ghost:hover {
    box-shadow: 0 1px 6px rgba(0, 0, 0, .08);
}

/* お知らせバナー（共通） */
.info-banner {
    background: #fff7e5;
    border: 1px solid #f3d089;
    color: #6c4e14;
    padding: 8px 12px;
    border-radius: 10px;
    margin: 8px 0 12px;
}

/* 件数表示など */
.list-status {
    color: #6b7280;
    font-size: 12px;
    margin: 10px 0;
    opacity: .75;
}

/* 「もっと見る」ボタン */
.load-more {
    display: flex;
    justify-content: center;
    padding: 12px 0 24px;
    margin: 0 0 28px;
}

.load-more button {
    border: 1px solid rgba(0, 0, 0, .12);
    background: #fff;
    padding: 8px 14px;
    border-radius: 8px;
    cursor: pointer;
}

/*=======================
  2.投稿一覧カードレイアウト
========================*/

/*---------- 2-1.共通レイアウト（PC/スマホ統合） ----------*/

/* 投稿リストは常に1列 */
.post-list {
    display: block;
}

.post-list.list-view {
    display: block;
}

/* カード本体（共通レイアウト：常に2カラムグリッド） */
.post-card {
    border: 1px solid rgba(0, 0, 0, .08);
    border-radius: 14px;
    overflow: hidden;
    background: var(--race-bg, #fff);
    transition: box-shadow .15s ease, transform .05s ease;
    margin-bottom: 16px;

    /* ← PC/スマホ共通でこの2カラムレイアウトを採用 */
    display: grid;
    grid-template-columns: 20% minmax(0, 1fr);
    grid-template-areas:
        "thumb meta"
        "thumb main-tags"
        "thumb user-tags"
        "thumb tags"
        "thumb actions"
        "thumb detail";
}

.post-card:hover {
    box-shadow: 0 6px 20px rgba(0, 0, 0, .08);
    transform: translateY(-1px);
}

/* サムネイル */
.thumb-box {
    grid-area: thumb;
    aspect-ratio: 424 / 532;
    background: #f6f6f6;
    display: block;
}

.thumb-box img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    display: block;
}

/* メタ情報（タイトルなど） */
.post-meta {
    grid-area: meta;
    display: flex;
    justify-content: space-between;
    gap: 10px;
    padding: 8px 10px;
    align-items: flex-start;
}

.post-meta .title-wrap .title {
    font-weight: 700;
    line-height: 1.3;
    text-decoration: underline;
    text-decoration-thickness: 2px;/* 線を少し太めに */
    text-underline-offset: 3px;/* 文字からの距離 */
}

.post-meta .title-wrap .sub {
    opacity: .7;
    font-size: .88rem;
}

/* お気に入りボタン */
.fav-btn {
    appearance: none;
    border: 1px solid rgba(0, 0, 0, .15);
    background: #fff;
    border-radius: 999px;
    padding: 4px 10px;
    cursor: pointer;
}

.fav-btn.active {
    background: #ffe9a8;
    border-color: #e6c76a;
}

/* タグ全体のくくり */
.post-tags-wrap {
    padding: 3px 5px 0;
    display: flex;
    flex-direction: column;
    gap: 4px;
    /* メインタグとユーザータグの上下間隔 */
}

/* メインタグ*/
.post-tags-main {
    grid-area: main-tags;
}

/* ユーザータグ */
.post-tags-user {
    grid-area: user-tags;
}

/* カード下部の操作ボタン群 */
.post-actions {
    grid-area: actions;
    display: flex;
    gap: 8px;
}

.post-actions button {
    appearance: none;
    border: 1px solid rgba(0, 0, 0, .12);
    background: #fff;
    border-radius: 8px;
    padding: 6px 10px;
    cursor: pointer;
}

/* 詳細部分（展開エリア） */
.post-detail {
    grid-area: detail;
    padding: 8px 10px 12px;
    border-top: 1px dashed rgba(0, 0, 0, .08);
}

/*---------- 2-2.スマホレイアウト----------*/


.post-card--sp {
    display: block;
    padding: 8px 10px;
}

/* 上段：画像 + 情報 */
.sp-head {
    display: flex;
    gap: 10px;
}

.sp-head-left .thumb-box {
    width: 90px;
    aspect-ratio: 424 / 532;
    flex-shrink: 0;
}

/* 右側情報 */
.sp-head-right {
    position: relative;
    flex: 1;
    display: flex;
    flex-direction: column;
    gap: 4px;
    padding-right: 40px;/* ★ 右上の★ぶんだけ余白を空ける */
}

/* スマホ版デッキ名 */
.sp-title {
    font-size: 1rem;
    font-weight: 700;
    line-height: 1.3;
    text-decoration: underline;
    text-decoration-thickness: 1px;
    text-underline-offset: 2px;
}

.sp-meta {
    opacity: .7;
}

/* スマホ版：お気に入りボタンを右上固定 */
.sp-head-right .sp-fav {
    position: absolute;
    top: 0;
    right: 0;
}

/* ボタン行 */
.sp-actions {
    margin-top: 6px;
}

.sp-actions button {
    flex: 1 1 0;
}


/*---------- 2-3.PCレイアウト----------*/



/*=======================
  3.タグ / バッジ類
========================*/

/* タグ全体（flex＋gap） */
.post-tags {
    display: flex;
    flex-wrap: wrap;
    gap: 6px;
}

/* 上段：自動タグ＋選択タグ（ピンク系・デッキメーカー準拠） */
.post-card .post-tags-main {
    grid-area: main-tags;
}

.post-tags-main .chip {
    background: #fff5f8;
    border: 1px solid #f4a2c2;
    color: #9b355e;
    box-shadow: 0 0 6px rgba(255, 170, 110, 0.4);
}

/* 下段：ユーザータグ（ブルー系） */
.post-card .post-tags-user {
    grid-area: user-tags;
}

.post-tags-user .chip {
    background: linear-gradient(90deg, #60a5fa, #3b82f6);
    border-color: #2563eb;
    color: #fff;
    box-shadow: 0 0 10px rgba(59, 130, 246, 0.6);
}

/*=======================
  4.詳細ブロック / デッキリスト
========================*/

/* 詳細内：デッキリスト（5列固定） */
.post-decklist {
    display: grid;
    grid-template-columns: repeat(5, minmax(0, 1fr));
    /* 5列固定 */
    gap: 4px;
    padding: 4px 0 8px;
}

.post-decklist .deck-entry {
    position: relative;
    width: 100%;
    box-sizing: border-box;
    aspect-ratio: 424 / 532;
}

.post-decklist .deck-entry img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    border-radius: 6px;
    display: block;
}

.post-decklist .count-badge {
    position: absolute;
    right: 2px;
    top: 2px;
    min-width: 22px;
    padding: 2px 4px;
    font-size: 0.75rem;
    border-radius: 12px;
    background: rgba(0, 0, 0, .65);
    color: #fff;
    text-align: center;
}

/* 詳細ブロック内テキスト */
.post-detail-section {
    margin-top: 8px;
}

.post-detail-row {
    margin-top: 4px;
    font-size: .88rem;
}

.post-detail-heading {
    font-weight: 600;
    margin-bottom: 2px;
    font-size: .9rem;
}

.post-detail-body {
    font-size: .9rem;
    line-height: 1.5;
    white-space: pre-wrap;
}

/* デッキコードのコピー */
.btn-copy-code {
    appearance: none;
    border: 1px solid rgba(0, 0, 0, .12);
    background: #fff;
    border-radius: 8px;
    padding: 4px 10px;
    cursor: pointer;
    font-size: .85rem;
}

/* 詳細の一番下の「閉じる」 */
.post-detail-footer {
    margin-top: 10px;
    text-align: right;
}

.post-detail-footer .btn-detail-close {
    appearance: none;
    border: 1px solid rgba(0, 0, 0, .12);
    background: #fff;
    border-radius: 8px;
    padding: 6px 12px;
    cursor: pointer;
    font-size: .9rem;
}

/*=======================
  5.マイ投稿ページ
========================*/

#pageMine.page {
    padding: 12px;
}

.mine-header {
    display: flex;
    align-items: center;
    gap: 10px;
    margin-bottom: 8px;
}

.back-btn {
    appearance: none;
    border: 1px solid rgba(0, 0, 0, .12);
    background: #fff;
    padding: 6px 10px;
    border-radius: 8px;
    cursor: pointer;
}

/*=======================
  6.レスポンシブ
========================*/
@media (max-width: 768px) {
    .post-meta .title-wrap .sub {
        font-size: .8rem;
    }
}